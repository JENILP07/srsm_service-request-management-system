module.exports=[90089,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(11642),f=a.i(99570),g=a.i(66718),h=a.i(70430),i=a.i(91119),j=a.i(7554),k=a.i(50104),l=a.i(37738),m=a.i(70121),n=a.i(92843),o=a.i(30553),p=a.i(46872),q=a.i(25152),r=a.i(7827),s="rovingFocusGroup.onEntryFocus",t={bubbles:!1,cancelable:!0},u="RovingFocusGroup",[v,w,x]=(0,l.createCollection)(u),[y,z]=(0,k.createContextScope)(u,[x]),[A,B]=y(u),C=c.forwardRef((a,c)=>(0,b.jsx)(v.Provider,{scope:a.__scopeRovingFocusGroup,children:(0,b.jsx)(v.Slot,{scope:a.__scopeRovingFocusGroup,children:(0,b.jsx)(D,{...a,ref:c})})}));C.displayName=u;var D=c.forwardRef((a,d)=>{let{__scopeRovingFocusGroup:e,orientation:f,loop:g=!1,dir:h,currentTabStopId:i,defaultCurrentTabStopId:k,onCurrentTabStopIdChange:l,onEntryFocus:n,preventScrollOnEntryFocus:v=!1,...x}=a,y=c.useRef(null),z=(0,m.useComposedRefs)(d,y),B=(0,r.useDirection)(h),[C,D]=(0,q.useControllableState)({prop:i,defaultProp:k??null,onChange:l,caller:u}),[E,F]=c.useState(!1),G=(0,p.useCallbackRef)(n),I=w(e),J=c.useRef(!1),[K,L]=c.useState(0);return c.useEffect(()=>{let a=y.current;if(a)return a.addEventListener(s,G),()=>a.removeEventListener(s,G)},[G]),(0,b.jsx)(A,{scope:e,orientation:f,dir:B,loop:g,currentTabStopId:C,onItemFocus:c.useCallback(a=>D(a),[D]),onItemShiftTab:c.useCallback(()=>F(!0),[]),onFocusableItemAdd:c.useCallback(()=>L(a=>a+1),[]),onFocusableItemRemove:c.useCallback(()=>L(a=>a-1),[]),children:(0,b.jsx)(o.Primitive.div,{tabIndex:E||0===K?-1:0,"data-orientation":f,...x,ref:z,style:{outline:"none",...a.style},onMouseDown:(0,j.composeEventHandlers)(a.onMouseDown,()=>{J.current=!0}),onFocus:(0,j.composeEventHandlers)(a.onFocus,a=>{let b=!J.current;if(a.target===a.currentTarget&&b&&!E){let b=new CustomEvent(s,t);if(a.currentTarget.dispatchEvent(b),!b.defaultPrevented){let a=I().filter(a=>a.focusable);H([a.find(a=>a.active),a.find(a=>a.id===C),...a].filter(Boolean).map(a=>a.ref.current),v)}}J.current=!1}),onBlur:(0,j.composeEventHandlers)(a.onBlur,()=>F(!1))})})}),E="RovingFocusGroupItem",F=c.forwardRef((a,d)=>{let{__scopeRovingFocusGroup:e,focusable:f=!0,active:g=!1,tabStopId:h,children:i,...k}=a,l=(0,n.useId)(),m=h||l,p=B(E,e),q=p.currentTabStopId===m,r=w(e),{onFocusableItemAdd:s,onFocusableItemRemove:t,currentTabStopId:u}=p;return c.useEffect(()=>{if(f)return s(),()=>t()},[f,s,t]),(0,b.jsx)(v.ItemSlot,{scope:e,id:m,focusable:f,active:g,children:(0,b.jsx)(o.Primitive.span,{tabIndex:q?0:-1,"data-orientation":p.orientation,...k,ref:d,onMouseDown:(0,j.composeEventHandlers)(a.onMouseDown,a=>{f?p.onItemFocus(m):a.preventDefault()}),onFocus:(0,j.composeEventHandlers)(a.onFocus,()=>p.onItemFocus(m)),onKeyDown:(0,j.composeEventHandlers)(a.onKeyDown,a=>{if("Tab"===a.key&&a.shiftKey)return void p.onItemShiftTab();if(a.target!==a.currentTarget)return;let b=function(a,b,c){var d;let e=(d=a.key,"rtl"!==c?d:"ArrowLeft"===d?"ArrowRight":"ArrowRight"===d?"ArrowLeft":d);if(!("vertical"===b&&["ArrowLeft","ArrowRight"].includes(e))&&!("horizontal"===b&&["ArrowUp","ArrowDown"].includes(e)))return G[e]}(a,p.orientation,p.dir);if(void 0!==b){if(a.metaKey||a.ctrlKey||a.altKey||a.shiftKey)return;a.preventDefault();let e=r().filter(a=>a.focusable).map(a=>a.ref.current);if("last"===b)e.reverse();else if("prev"===b||"next"===b){var c,d;"prev"===b&&e.reverse();let f=e.indexOf(a.currentTarget);e=p.loop?(c=e,d=f+1,c.map((a,b)=>c[(d+b)%c.length])):e.slice(f+1)}setTimeout(()=>H(e))}}),children:"function"==typeof i?i({isCurrentTabStop:q,hasTabStop:null!=u}):i})})});F.displayName=E;var G={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function H(a,b=!1){let c=document.activeElement;for(let d of a)if(d===c||(d.focus({preventScroll:b}),document.activeElement!==c))return}var I=a.i(77192),J="Tabs",[K,L]=(0,k.createContextScope)(J,[z]),M=z(),[N,O]=K(J),P=c.forwardRef((a,c)=>{let{__scopeTabs:d,value:e,onValueChange:f,defaultValue:g,orientation:h="horizontal",dir:i,activationMode:j="automatic",...k}=a,l=(0,r.useDirection)(i),[m,p]=(0,q.useControllableState)({prop:e,onChange:f,defaultProp:g??"",caller:J});return(0,b.jsx)(N,{scope:d,baseId:(0,n.useId)(),value:m,onValueChange:p,orientation:h,dir:l,activationMode:j,children:(0,b.jsx)(o.Primitive.div,{dir:l,"data-orientation":h,...k,ref:c})})});P.displayName=J;var Q="TabsList",R=c.forwardRef((a,c)=>{let{__scopeTabs:d,loop:e=!0,...f}=a,g=O(Q,d),h=M(d);return(0,b.jsx)(C,{asChild:!0,...h,orientation:g.orientation,dir:g.dir,loop:e,children:(0,b.jsx)(o.Primitive.div,{role:"tablist","aria-orientation":g.orientation,...f,ref:c})})});R.displayName=Q;var S="TabsTrigger",T=c.forwardRef((a,c)=>{let{__scopeTabs:d,value:e,disabled:f=!1,...g}=a,h=O(S,d),i=M(d),k=W(h.baseId,e),l=X(h.baseId,e),m=e===h.value;return(0,b.jsx)(F,{asChild:!0,...i,focusable:!f,active:m,children:(0,b.jsx)(o.Primitive.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":l,"data-state":m?"active":"inactive","data-disabled":f?"":void 0,disabled:f,id:k,...g,ref:c,onMouseDown:(0,j.composeEventHandlers)(a.onMouseDown,a=>{f||0!==a.button||!1!==a.ctrlKey?a.preventDefault():h.onValueChange(e)}),onKeyDown:(0,j.composeEventHandlers)(a.onKeyDown,a=>{[" ","Enter"].includes(a.key)&&h.onValueChange(e)}),onFocus:(0,j.composeEventHandlers)(a.onFocus,()=>{let a="manual"!==h.activationMode;m||f||!a||h.onValueChange(e)})})})});T.displayName=S;var U="TabsContent",V=c.forwardRef((a,d)=>{let{__scopeTabs:e,value:f,forceMount:g,children:h,...i}=a,j=O(U,e),k=W(j.baseId,f),l=X(j.baseId,f),m=f===j.value,n=c.useRef(m);return c.useEffect(()=>{let a=requestAnimationFrame(()=>n.current=!1);return()=>cancelAnimationFrame(a)},[]),(0,b.jsx)(I.Presence,{present:g||m,children:({present:c})=>(0,b.jsx)(o.Primitive.div,{"data-state":m?"active":"inactive","data-orientation":j.orientation,role:"tabpanel","aria-labelledby":k,hidden:!c,id:l,tabIndex:0,...i,ref:d,style:{...a.style,animationDuration:n.current?"0s":void 0},children:c&&h})})});function W(a,b){return`${a}-trigger-${b}`}function X(a,b){return`${a}-content-${b}`}V.displayName=U;var Y=a.i(68114);let Z=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(R,{ref:d,className:(0,Y.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...c}));Z.displayName=R.displayName;let $=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(T,{ref:d,className:(0,Y.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",a),...c}));$.displayName=T.displayName;let _=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(V,{ref:d,className:(0,Y.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...c}));_.displayName=V.displayName;var aa=a.i(3314),ab=a.i(96221),ac=a.i(23292),ad=a.i(88780);let ae=ad.z.object({email:ad.z.string().email("Please enter a valid email address"),password:ad.z.string().min(6,"Password must be at least 6 characters")}),af=ad.z.object({name:ad.z.string().min(2,"Name must be at least 2 characters"),email:ad.z.string().email("Please enter a valid email address"),password:ad.z.string().min(6,"Password must be at least 6 characters"),confirmPassword:ad.z.string()}).refine(a=>a.password===a.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function ag(){let{signIn:a,signUp:j,user:k,isLoading:l}=(0,e.useAuth)(),m=(0,d.useRouter)(),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)("login"),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)({}),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)({});if(k&&!l)return m.replace("/"),null;let H=async b=>{b.preventDefault(),w({});try{let b=ae.parse({email:r,password:t});o(!0);let{error:c}=await a(b.email,b.password);if(c)return void(c.message.includes("Invalid login credentials")?ac.toast.error("Invalid email or password"):ac.toast.error(c.message));ac.toast.success("Welcome back!"),m.push("/")}catch(a){if(a instanceof ad.z.ZodError){let b={};a.errors.forEach(a=>{a.path[0]&&(b[a.path[0]]=a.message)}),w(b)}}finally{o(!1)}},I=async a=>{a.preventDefault(),G({});try{let a=af.parse({name:x,email:z,password:B,confirmPassword:D});o(!0);let{error:b}=await j(a.email,a.password,a.name);if(b)return void(b.message.includes("already registered")?(ac.toast.error("An account with this email already exists. Please sign in instead."),q("login"),s(a.email)):ac.toast.error(b.message));ac.toast.success("Account created successfully! You are now signed in."),m.push("/")}catch(a){if(a instanceof ad.z.ZodError){let b={};a.errors.forEach(a=>{a.path[0]&&(b[a.path[0]]=a.message)}),G(b)}}finally{o(!1)}};return l?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,b.jsx)(ab.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted/30 p-4",children:(0,b.jsxs)("div",{className:"w-full max-w-md",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,b.jsx)("div",{className:"w-14 h-14 rounded-xl gradient-primary flex items-center justify-center mb-4 shadow-glow",children:(0,b.jsx)(aa.Shield,{className:"w-7 h-7 text-primary-foreground"})}),(0,b.jsx)("h1",{className:"text-2xl font-bold font-display",children:"SRSM"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Service Request Management System"})]}),(0,b.jsxs)(i.Card,{className:"shadow-lg",children:[(0,b.jsxs)(i.CardHeader,{className:"pb-4",children:[(0,b.jsx)(i.CardTitle,{className:"text-center",children:"Welcome"}),(0,b.jsx)(i.CardDescription,{className:"text-center",children:"Sign in to your account or create a new one"})]}),(0,b.jsx)(i.CardContent,{children:(0,b.jsxs)(P,{value:p,onValueChange:q,children:[(0,b.jsxs)(Z,{className:"grid w-full grid-cols-2 mb-6",children:[(0,b.jsx)($,{value:"login",children:"Sign In"}),(0,b.jsx)($,{value:"signup",children:"Sign Up"})]}),(0,b.jsx)(_,{value:"login",children:(0,b.jsxs)("form",{onSubmit:H,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"login-email",children:"Email"}),(0,b.jsx)(g.Input,{id:"login-email",type:"email",placeholder:"you@example.com",value:r,onChange:a=>s(a.target.value),disabled:n}),v.email&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:v.email})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"login-password",children:"Password"}),(0,b.jsx)(g.Input,{id:"login-password",type:"password",placeholder:"••••••••",value:t,onChange:a=>u(a.target.value),disabled:n}),v.password&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:v.password})]}),(0,b.jsx)(f.Button,{type:"submit",className:"w-full gradient-primary",disabled:n,children:n?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ab.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})}),(0,b.jsx)(_,{value:"signup",children:(0,b.jsxs)("form",{onSubmit:I,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"signup-name",children:"Full Name"}),(0,b.jsx)(g.Input,{id:"signup-name",type:"text",placeholder:"John Anderson",value:x,onChange:a=>y(a.target.value),disabled:n}),F.name&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:F.name})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"signup-email",children:"Email"}),(0,b.jsx)(g.Input,{id:"signup-email",type:"email",placeholder:"you@example.com",value:z,onChange:a=>A(a.target.value),disabled:n}),F.email&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:F.email})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"signup-password",children:"Password"}),(0,b.jsx)(g.Input,{id:"signup-password",type:"password",placeholder:"••••••••",value:B,onChange:a=>C(a.target.value),disabled:n}),F.password&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:F.password})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"signup-confirm-password",children:"Confirm Password"}),(0,b.jsx)(g.Input,{id:"signup-confirm-password",type:"password",placeholder:"••••••••",value:D,onChange:a=>E(a.target.value),disabled:n}),F.confirmPassword&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:F.confirmPassword})]}),(0,b.jsx)(f.Button,{type:"submit",className:"w-full gradient-primary",disabled:n,children:n?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ab.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"})]})})]})})]}),(0,b.jsx)("p",{className:"text-center text-sm text-muted-foreground mt-6",children:"By signing in, you agree to our Terms of Service and Privacy Policy"})]})})}function ah(){return(0,b.jsx)(ag,{})}a.s(["default",()=>ah],90089)}];

//# sourceMappingURL=src_app_%28auth%29_auth_page_tsx_d26930e0._.js.map