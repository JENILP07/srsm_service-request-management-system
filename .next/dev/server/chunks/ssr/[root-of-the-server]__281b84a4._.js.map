{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/swaggy/Study/SEM-6/AWT/task-path-pal-main%20%282%29/src/integrations/supabase/client.ts"],"sourcesContent":["// This file is automatically generated. Do not edit it directly.\nimport { createClient } from '@supabase/supabase-js';\nimport { Database } from './types';\n\n// Use NEXT_PUBLIC_ prefix for Next.js client-side env vars\n// Fallback to VITE_ vars if NEXT_PUBLIC_ are not set (during migration)\nconst SUPABASE_URL = process.env.NEXT_PUBLIC_SUPABASE_URL || import.meta.env?.VITE_SUPABASE_URL;\nconst SUPABASE_ANON_KEY = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || import.meta.env?.VITE_SUPABASE_ANON_KEY;\n\nif (!SUPABASE_URL || !SUPABASE_ANON_KEY) {\n  console.error('Missing Supabase environment variables');\n}\n\n// Import the supabase client like this:\n// import { supabase } from \"@/integrations/supabase/client\";\n\nexport const supabase = createClient<Database>(SUPABASE_URL || '', SUPABASE_ANON_KEY || '', {\n  auth: {\n    storage: localStorage,\n    persistSession: true,\n    autoRefreshToken: true,\n  }\n});"],"names":[],"mappings":";;;;AAAA,iEAAiE;AACjE;;;;;;;AAGA,2DAA2D;AAC3D,wEAAwE;AACxE,MAAM,eAAe,QAAQ,GAAG,CAAC,wBAAwB,IAAI,8BAAY,GAAG,EAAE;AAC9E,MAAM,oBAAoB,QAAQ,GAAG,CAAC,6BAA6B,IAAI,8BAAY,GAAG,EAAE;AAExF,IAAI,CAAC,gBAAgB,CAAC,mBAAmB;IACvC,QAAQ,KAAK,CAAC;AAChB;AAKO,MAAM,WAAW,IAAA,8LAAY,EAAW,gBAAgB,IAAI,qBAAqB,IAAI;IAC1F,MAAM;QACJ,SAAS;QACT,gBAAgB;QAChB,kBAAkB;IACpB;AACF"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///home/swaggy/Study/SEM-6/AWT/task-path-pal-main%20%282%29/src/contexts/AuthContext.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useEffect, useState, ReactNode } from 'react';\nimport { User, Session } from '@supabase/supabase-js';\nimport { supabase } from '@/integrations/supabase/client';\n\nexport type AppRole = 'admin' | 'hod' | 'technician' | 'requestor';\n\ninterface Profile {\n  id: string;\n  name: string;\n  email: string;\n  avatar_url?: string;\n  department_id?: string;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  session: Session | null;\n  profile: Profile | null;\n  role: AppRole;\n  isLoading: boolean;\n  signIn: (email: string, password: string) => Promise<{ error: Error | null }>;\n  signUp: (email: string, password: string, name: string) => Promise<{ error: Error | null }>;\n  signOut: () => Promise<void>;\n  hasRole: (requiredRole: AppRole | AppRole[]) => boolean;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [session, setSession] = useState<Session | null>(null);\n  const [profile, setProfile] = useState<Profile | null>(null);\n  const [role, setRole] = useState<AppRole>('requestor');\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    // Set up auth state listener FIRST\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\n      (event, currentSession) => {\n        setSession(currentSession);\n        setUser(currentSession?.user ?? null);\n\n        // Defer fetching profile/role to avoid deadlock\n        if (currentSession?.user) {\n          setTimeout(() => {\n            fetchUserData(currentSession.user.id);\n          }, 0);\n        } else {\n          setProfile(null);\n          setRole('requestor');\n          setIsLoading(false);\n        }\n      }\n    );\n\n    // THEN check for existing session\n    supabase.auth.getSession().then(({ data: { session: currentSession } }) => {\n      setSession(currentSession);\n      setUser(currentSession?.user ?? null);\n      if (currentSession?.user) {\n        fetchUserData(currentSession.user.id);\n      } else {\n        setIsLoading(false);\n      }\n    });\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  const fetchUserData = async (userId: string) => {\n    try {\n      // Fetch profile\n      const { data: profileData } = await supabase\n        .from('profiles')\n        .select('*')\n        .eq('id', userId)\n        .maybeSingle();\n\n      if (profileData) {\n        setProfile(profileData as Profile);\n      }\n\n      // Fetch role\n      const { data: roleData } = await supabase\n        .from('user_roles')\n        .select('role')\n        .eq('user_id', userId)\n        .maybeSingle();\n\n      if (roleData) {\n        setRole(roleData.role as AppRole);\n      }\n    } catch (error) {\n      console.error('Error fetching user data:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const signIn = async (email: string, password: string) => {\n    try {\n      const { error } = await supabase.auth.signInWithPassword({\n        email,\n        password,\n      });\n      return { error };\n    } catch (error) {\n      return { error: error as Error };\n    }\n  };\n\n  const signUp = async (email: string, password: string, name: string) => {\n    try {\n      const redirectUrl = `${window.location.origin}/`;\n\n      const { error } = await supabase.auth.signUp({\n        email,\n        password,\n        options: {\n          emailRedirectTo: redirectUrl,\n          data: {\n            name,\n          },\n        },\n      });\n      return { error };\n    } catch (error) {\n      return { error: error as Error };\n    }\n  };\n\n  const signOut = async () => {\n    await supabase.auth.signOut();\n    setUser(null);\n    setSession(null);\n    setProfile(null);\n    setRole('requestor');\n  };\n\n  const hasRole = (requiredRole: AppRole | AppRole[]) => {\n    if (Array.isArray(requiredRole)) {\n      return requiredRole.includes(role);\n    }\n    return role === requiredRole;\n  };\n\n  return (\n    <AuthContext.Provider value={{\n      user,\n      session,\n      profile,\n      role,\n      isLoading,\n      signIn,\n      signUp,\n      signOut,\n      hasRole\n    }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":["file:///home/swaggy/Study/SEM-6/AWT/task-path-pal-main%20%282%29/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 213, "column": 0}, "map": {"version":3,"sources":["file:///home/swaggy/Study/SEM-6/AWT/task-path-pal-main%20%282%29/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />;\n  },\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;YACb,SAAS;YACT,WAAW;YACX,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBAAO,8OAAC;QAAK,WAAW,IAAA,yHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QAAK,KAAK;QAAM,GAAG,KAAK;;;;;;AAC/F;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 273, "column": 0}, "map": {"version":3,"sources":["file:///home/swaggy/Study/SEM-6/AWT/task-path-pal-main%20%282%29/src/components/layout/AppSidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { cn } from '@/lib/utils';\nimport { useAuth, AppRole } from '@/contexts/AuthContext';\nimport {\n  LayoutDashboard,\n  PlusCircle,\n  List,\n  Settings,\n  Users,\n  Building2,\n  Tag,\n  FileText,\n  ClipboardList,\n  UserCog,\n  ChevronDown,\n  ChevronLeft,\n  ChevronRight,\n  CheckSquare,\n  Wrench,\n  Shield,\n  LogOut,\n} from 'lucide-react';\nimport { Button } from '@/components/ui/button';\n\ninterface NavItem {\n  title: string;\n  href: string;\n  icon: React.ComponentType<{ className?: string }>;\n  roles: AppRole[];\n  children?: NavItem[];\n}\n\nconst navItems: NavItem[] = [\n  {\n    title: 'Dashboard',\n    href: '/',\n    icon: LayoutDashboard,\n    roles: ['admin', 'hod', 'technician', 'requestor'],\n  },\n  {\n    title: 'New Request',\n    href: '/requests/new',\n    icon: PlusCircle,\n    roles: ['requestor'],\n  },\n  {\n    title: 'My Requests',\n    href: '/requests',\n    icon: List,\n    roles: ['requestor'],\n  },\n  {\n    title: 'Assigned Requests',\n    href: '/technician/requests',\n    icon: Wrench,\n    roles: ['technician'],\n  },\n  {\n    title: 'Department Requests',\n    href: '/hod/requests',\n    icon: ClipboardList,\n    roles: ['hod'],\n  },\n  {\n    title: 'Approvals',\n    href: '/hod/approvals',\n    icon: CheckSquare,\n    roles: ['hod'],\n  },\n  {\n    title: 'Master Data',\n    href: '/admin/masters',\n    icon: Settings,\n    roles: ['admin'],\n    children: [\n      { title: 'Request Status', href: '/admin/masters/status', icon: Tag, roles: ['admin'] },\n      { title: 'Departments', href: '/admin/masters/departments', icon: Building2, roles: ['admin'] },\n      { title: 'Dept. Personnel', href: '/admin/masters/dept-persons', icon: Users, roles: ['admin'] },\n      { title: 'Service Types', href: '/admin/masters/service-types', icon: FileText, roles: ['admin'] },\n      { title: 'Request Types', href: '/admin/masters/request-types', icon: ClipboardList, roles: ['admin'] },\n      { title: 'Type-Person Map', href: '/admin/masters/type-person-map', icon: UserCog, roles: ['admin'] },\n    ],\n  },\n  {\n    title: 'All Requests',\n    href: '/admin/requests',\n    icon: List,\n    roles: ['admin'],\n  },\n];\n\ninterface AppSidebarProps {\n  collapsed: boolean;\n  onToggle: () => void;\n}\n\nexport function AppSidebar({ collapsed, onToggle }: AppSidebarProps) {\n  const pathname = usePathname();\n  const location = { pathname }; // Shim for potential other usages, or just use pathname directly below\n  const { profile, role, signOut } = useAuth();\n  const [expandedItems, setExpandedItems] = useState<string[]>(['Master Data']);\n\n  const filteredNavItems = navItems.filter(item =>\n    item.roles.includes(role)\n  );\n\n  const toggleExpand = (title: string) => {\n    setExpandedItems(prev =>\n      prev.includes(title)\n        ? prev.filter(item => item !== title)\n        : [...prev, title]\n    );\n  };\n\n  const isActive = (href: string) => pathname === href;\n  const isParentActive = (item: NavItem) =>\n    item.children?.some(child => pathname === child.href);\n\n  const handleSignOut = async () => {\n    await signOut();\n  };\n\n  return (\n    <motion.aside\n      initial={false}\n      animate={{ width: collapsed ? 72 : 280 }}\n      transition={{ duration: 0.2, ease: 'easeInOut' }}\n      className=\"fixed left-0 top-0 z-40 h-screen gradient-sidebar border-r border-sidebar-border flex flex-col\"\n    >\n      {/* Header */}\n      <div className=\"flex items-center justify-between p-4 border-b border-sidebar-border\">\n        <AnimatePresence mode=\"wait\">\n          {!collapsed && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              className=\"flex items-center gap-3\"\n            >\n              <div className=\"w-8 h-8 rounded-lg gradient-primary flex items-center justify-center\">\n                <Shield className=\"w-4 h-4 text-primary-foreground\" />\n              </div>\n              <span className=\"font-display font-bold text-sidebar-foreground\">SRSM</span>\n            </motion.div>\n          )}\n        </AnimatePresence>\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          onClick={onToggle}\n          className=\"h-8 w-8 text-sidebar-foreground hover:bg-sidebar-accent\"\n        >\n          {collapsed ? <ChevronRight className=\"h-4 w-4\" /> : <ChevronLeft className=\"h-4 w-4\" />}\n        </Button>\n      </div>\n\n      {/* Role Badge */}\n      {!collapsed && (\n        <div className=\"p-4 border-b border-sidebar-border\">\n          <div className=\"px-3 py-1.5 rounded-md bg-sidebar-accent text-sidebar-foreground text-xs font-medium text-center capitalize\">\n            {role} Dashboard\n          </div>\n        </div>\n      )}\n\n      {/* Navigation */}\n      <nav className=\"flex-1 overflow-y-auto p-3 space-y-1\">\n        {filteredNavItems.map((item) => (\n          <div key={item.title}>\n            {item.children ? (\n              <>\n                <button\n                  onClick={() => toggleExpand(item.title)}\n                  className={cn(\n                    'w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors',\n                    'text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent',\n                    isParentActive(item) && 'bg-sidebar-accent text-sidebar-foreground'\n                  )}\n                >\n                  <item.icon className=\"h-5 w-5 flex-shrink-0\" />\n                  {!collapsed && (\n                    <>\n                      <span className=\"flex-1 text-left\">{item.title}</span>\n                      <ChevronDown\n                        className={cn(\n                          'h-4 w-4 transition-transform',\n                          expandedItems.includes(item.title) && 'rotate-180'\n                        )}\n                      />\n                    </>\n                  )}\n                </button>\n                <AnimatePresence>\n                  {!collapsed && expandedItems.includes(item.title) && (\n                    <motion.div\n                      initial={{ height: 0, opacity: 0 }}\n                      animate={{ height: 'auto', opacity: 1 }}\n                      exit={{ height: 0, opacity: 0 }}\n                      transition={{ duration: 0.2 }}\n                      className=\"overflow-hidden ml-4 mt-1 space-y-1\"\n                    >\n                      {item.children.map((child) => (\n                        <Link\n                          key={child.href}\n                          href={child.href}\n                          className={cn(\n                            'flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors',\n                            isActive(child.href)\n                              ? 'bg-sidebar-primary text-sidebar-primary-foreground'\n                              : 'text-sidebar-foreground/60 hover:text-sidebar-foreground hover:bg-sidebar-accent'\n                          )}\n                        >\n                          <child.icon className=\"h-4 w-4\" />\n                          <span>{child.title}</span>\n                        </Link>\n                      ))}\n                    </motion.div>\n                  )}\n                </AnimatePresence>\n              </>\n            ) : (\n              <Link\n                href={item.href}\n                className={cn(\n                  'flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors',\n                  isActive(item.href)\n                    ? 'bg-sidebar-primary text-sidebar-primary-foreground shadow-glow'\n                    : 'text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent'\n                )}\n                title={collapsed ? item.title : undefined}\n              >\n                <item.icon className=\"h-5 w-5 flex-shrink-0\" />\n                {!collapsed && <span>{item.title}</span>}\n              </Link>\n            )}\n          </div>\n        ))}\n      </nav>\n\n      {/* User Info & Sign Out */}\n      {profile && (\n        <div className=\"p-4 border-t border-sidebar-border space-y-3\">\n          <div className={cn('flex items-center gap-3', collapsed && 'justify-center')}>\n            <div className=\"w-9 h-9 rounded-full bg-sidebar-primary flex items-center justify-center text-sidebar-primary-foreground font-medium text-sm\">\n              {profile.name?.split(' ').map(n => n[0]).join('') || profile.email[0].toUpperCase()}\n            </div>\n            {!collapsed && (\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm font-medium text-sidebar-foreground truncate\">{profile.name}</p>\n                <p className=\"text-xs text-sidebar-foreground/60 truncate\">{profile.email}</p>\n              </div>\n            )}\n          </div>\n          <Button\n            variant=\"ghost\"\n            size={collapsed ? 'icon' : 'default'}\n            onClick={handleSignOut}\n            className={cn(\n              'text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent',\n              !collapsed && 'w-full justify-start'\n            )}\n          >\n            <LogOut className=\"h-4 w-4\" />\n            {!collapsed && <span className=\"ml-2\">Sign Out</span>}\n          </Button>\n        </div>\n      )}\n    </motion.aside>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 779, "column": 0}, "map": {"version":3,"sources":["file:///home/swaggy/Study/SEM-6/AWT/task-path-pal-main%20%282%29/src/components/layout/DashboardLayout.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from 'react';\n// Outlet removed, children prop used instead\nimport { motion } from 'framer-motion';\nimport { AppSidebar } from './AppSidebar';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { Menu } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\n\nexport function DashboardLayout({ children }: { children: React.ReactNode }) {\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\n  const { profile, role } = useAuth();\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <AppSidebar\n        collapsed={sidebarCollapsed}\n        onToggle={() => setSidebarCollapsed(!sidebarCollapsed)}\n      />\n\n      <motion.main\n        initial={false}\n        animate={{ marginLeft: sidebarCollapsed ? 72 : 280 }}\n        transition={{ duration: 0.2, ease: 'easeInOut' }}\n        className=\"min-h-screen\"\n      >\n        {/* Top Bar */}\n        <header className=\"sticky top-0 z-30 flex h-16 items-center gap-4 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 px-6\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"md:hidden\"\n            onClick={() => setSidebarCollapsed(!sidebarCollapsed)}\n          >\n            <Menu className=\"h-5 w-5\" />\n          </Button>\n\n          <div className=\"flex-1\" />\n\n          <div className=\"flex items-center gap-4\">\n            <div className=\"text-right hidden sm:block\">\n              <p className=\"text-sm font-medium\">{profile?.name}</p>\n              <p className=\"text-xs text-muted-foreground capitalize\">{role} Dashboard</p>\n            </div>\n          </div>\n        </header>\n\n        {/* Page Content */}\n        <div className=\"p-6\">\n          {children}\n        </div>\n      </motion.main>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AARA;;;;;;;;AAUO,SAAS,gBAAgB,EAAE,QAAQ,EAAiC;IACzE,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAC;IACzD,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,IAAA,0IAAO;IAEjC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,wJAAU;gBACT,WAAW;gBACX,UAAU,IAAM,oBAAoB,CAAC;;;;;;0BAGvC,8OAAC,oMAAM,CAAC,IAAI;gBACV,SAAS;gBACT,SAAS;oBAAE,YAAY,mBAAmB,KAAK;gBAAI;gBACnD,YAAY;oBAAE,UAAU;oBAAK,MAAM;gBAAY;gBAC/C,WAAU;;kCAGV,8OAAC;wBAAO,WAAU;;0CAChB,8OAAC,4IAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,WAAU;gCACV,SAAS,IAAM,oBAAoB,CAAC;0CAEpC,cAAA,8OAAC,0MAAI;oCAAC,WAAU;;;;;;;;;;;0CAGlB,8OAAC;gCAAI,WAAU;;;;;;0CAEf,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDAAuB,SAAS;;;;;;sDAC7C,8OAAC;4CAAE,WAAU;;gDAA4C;gDAAK;;;;;;;;;;;;;;;;;;;;;;;;kCAMpE,8OAAC;wBAAI,WAAU;kCACZ;;;;;;;;;;;;;;;;;;AAKX"}},
    {"offset": {"line": 917, "column": 0}, "map": {"version":3,"sources":["file:///home/swaggy/Study/SEM-6/AWT/task-path-pal-main%20%282%29/src/app/%28protected%29/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { useAuth, AppRole } from '@/contexts/AuthContext';\nimport { DashboardLayout } from \"@/components/layout/DashboardLayout\";\nimport { Loader2 } from \"lucide-react\";\nimport { useRouter, usePathname } from 'next/navigation';\nimport { useEffect } from 'react';\n\n// This component replaces the ProtectedRoute wrapper from React Router\nexport default function ProtectedLayout({\n    children,\n}: {\n    children: React.ReactNode;\n}) {\n    const { user, role, isLoading } = useAuth();\n    const router = useRouter();\n    const pathname = usePathname();\n\n    useEffect(() => {\n        if (!isLoading && !user) {\n            router.replace('/auth');\n        }\n    }, [user, isLoading, router]);\n\n    // Role-based redirect logic could go here similar to ProtectedRoute.tsx\n    // But for simple layout wrapping, we just check auth\n\n    if (isLoading) {\n        return (\n            <div className=\"min-h-screen flex items-center justify-center bg-background\">\n                <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n            </div>\n        );\n    }\n\n    if (!user) {\n        return null; // Will redirect in useEffect\n    }\n\n    return (\n        <DashboardLayout>\n            {children}\n        </DashboardLayout>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AASe,SAAS,gBAAgB,EACpC,QAAQ,EAGX;IACG,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,IAAA,0IAAO;IACzC,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,WAAW,IAAA,iJAAW;IAE5B,IAAA,kNAAS,EAAC;QACN,IAAI,CAAC,aAAa,CAAC,MAAM;YACrB,OAAO,OAAO,CAAC;QACnB;IACJ,GAAG;QAAC;QAAM;QAAW;KAAO;IAE5B,wEAAwE;IACxE,qDAAqD;IAErD,IAAI,WAAW;QACX,qBACI,8OAAC;YAAI,WAAU;sBACX,cAAA,8OAAC,4NAAO;gBAAC,WAAU;;;;;;;;;;;IAG/B;IAEA,IAAI,CAAC,MAAM;QACP,OAAO,MAAM,6BAA6B;IAC9C;IAEA,qBACI,8OAAC,kKAAe;kBACX;;;;;;AAGb"}}]
}